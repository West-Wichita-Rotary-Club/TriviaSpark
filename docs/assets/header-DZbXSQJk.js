import{c as H,r as s,e as _e,z as Pt,x as be,E as Ne,j as t,y as Et,B as kt,P as X,f as Tt,h as P,k as F,i as x,I as At,l as Ot,D as Lt,F as Ft,G as Gt,J as je,d as Kt,n as v,K as $t,u as Bt,b as Ut,a as zt,L as ne,M as Vt}from"./index-CVrZcPBr.js";import{B as z}from"./button-DnkKAUhF.js";import{A as Yt,a as Ht,U as Xt}from"./avatar-F6wtHGdE.js";import{u as Wt}from"./index-Beo3nn1K.js";import{h as qt,a as Qt,R as Jt,F as Zt,u as ye,C as en}from"./Combination-CxqtaTox.js";import{c as Re,I as tn,R as nn}from"./index-BDLef-1l.js";import{C as on}from"./chevron-right-jTFnSESV.js";import{C as rn}from"./circle-kSyqFweN.js";import{u as an}from"./useQuery-CDeCbO8F.js";import{u as sn}from"./useMutation-C-BnuehW.js";import{B as cn}from"./brain-DzaN2olt.js";import{L as un}from"./log-out-CZzUSaRx.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ln=H("bell",dn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],oe=H("monitor",pn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],re=H("moon",fn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ae=H("sun",mn);function hn(e=3e4){const[o,n]=s.useState({ok:!1}),[r,a]=s.useState(!0),c=!0;async function i(){{n({ok:!1,time:"Static Build"}),a(!1);return}}return s.useEffect(()=>{i()},[e,c]),{status:o,loading:r,refresh:i}}var se=["Enter"," "],xn=["ArrowDown","PageUp","Home"],Se=["ArrowUp","PageDown","End"],gn=[...xn,...Se],vn={ltr:[...se,"ArrowRight"],rtl:[...se,"ArrowLeft"]},wn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},G="Menu",[O,Mn,yn]=Pt(G),[b,Ie]=_e(G,[yn,be,Re]),W=be(),De=Re(),[Cn,N]=b(G),[_n,K]=b(G),Pe=e=>{const{__scopeMenu:o,open:n=!1,children:r,dir:a,onOpenChange:c,modal:i=!0}=e,d=W(o),[f,m]=s.useState(null),l=s.useRef(!1),u=Ne(c),h=Wt(a);return s.useEffect(()=>{const y=()=>{l.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>l.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),t.jsx(Et,{...d,children:t.jsx(Cn,{scope:o,open:n,onOpenChange:u,content:f,onContentChange:m,children:t.jsx(_n,{scope:o,onClose:s.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:l,dir:h,modal:i,children:r})})})};Pe.displayName=G;var bn="MenuAnchor",ie=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e,a=W(n);return t.jsx(kt,{...a,...r,ref:o})});ie.displayName=bn;var ue="MenuPortal",[Nn,Ee]=b(ue,{forceMount:void 0}),ke=e=>{const{__scopeMenu:o,forceMount:n,children:r,container:a}=e,c=N(ue,o);return t.jsx(Nn,{scope:o,forceMount:n,children:t.jsx(X,{present:n||c.open,children:t.jsx(Tt,{asChild:!0,container:a,children:r})})})};ke.displayName=ue;var C="MenuContent",[jn,de]=b(C),Te=s.forwardRef((e,o)=>{const n=Ee(C,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,c=N(C,e.__scopeMenu),i=K(C,e.__scopeMenu);return t.jsx(O.Provider,{scope:e.__scopeMenu,children:t.jsx(X,{present:r||c.open,children:t.jsx(O.Slot,{scope:e.__scopeMenu,children:i.modal?t.jsx(Rn,{...a,ref:o}):t.jsx(Sn,{...a,ref:o})})})})}),Rn=s.forwardRef((e,o)=>{const n=N(C,e.__scopeMenu),r=s.useRef(null),a=F(o,r);return s.useEffect(()=>{const c=r.current;if(c)return qt(c)},[]),t.jsx(le,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:x(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Sn=s.forwardRef((e,o)=>{const n=N(C,e.__scopeMenu);return t.jsx(le,{...e,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),In=Ot("MenuContent.ScrollLock"),le=s.forwardRef((e,o)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:i,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:h,onDismiss:y,disableOutsideScroll:g,...j}=e,E=N(C,n),R=K(C,n),_t=W(n),bt=De(n),xe=Mn(n),[Nt,ge]=s.useState(null),$=s.useRef(null),jt=F(o,$,E.onContentChange),B=s.useRef(0),U=s.useRef(""),Rt=s.useRef(0),J=s.useRef(null),ve=s.useRef("right"),Z=s.useRef(0),St=g?Jt:s.Fragment,It=g?{as:In,allowPinchZoom:!0}:void 0,Dt=p=>{const I=U.current+p,_=xe().filter(M=>!M.disabled),k=document.activeElement,ee=_.find(M=>M.ref.current===k)?.textValue,te=_.map(M=>M.textValue),we=$n(te,I,ee),T=_.find(M=>M.textValue===we)?.ref.current;(function M(Me){U.current=Me,window.clearTimeout(B.current),Me!==""&&(B.current=window.setTimeout(()=>M(""),1e3))})(I),T&&setTimeout(()=>T.focus())};s.useEffect(()=>()=>window.clearTimeout(B.current),[]),Qt();const S=s.useCallback(p=>ve.current===J.current?.side&&Un(p,J.current?.area),[]);return t.jsx(jn,{scope:n,searchRef:U,onItemEnter:s.useCallback(p=>{S(p)&&p.preventDefault()},[S]),onItemLeave:s.useCallback(p=>{S(p)||($.current?.focus(),ge(null))},[S]),onTriggerLeave:s.useCallback(p=>{S(p)&&p.preventDefault()},[S]),pointerGraceTimerRef:Rt,onPointerGraceIntentChange:s.useCallback(p=>{J.current=p},[]),children:t.jsx(St,{...It,children:t.jsx(Zt,{asChild:!0,trapped:a,onMountAutoFocus:x(c,p=>{p.preventDefault(),$.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:t.jsx(Lt,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:h,onDismiss:y,children:t.jsx(nn,{asChild:!0,...bt,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:Nt,onCurrentTabStopIdChange:ge,onEntryFocus:x(f,p=>{R.isUsingKeyboardRef.current||p.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(Ft,{role:"menu","aria-orientation":"vertical","data-state":qe(E.open),"data-radix-menu-content":"",dir:R.dir,..._t,...j,ref:jt,style:{outline:"none",...j.style},onKeyDown:x(j.onKeyDown,p=>{const _=p.target.closest("[data-radix-menu-content]")===p.currentTarget,k=p.ctrlKey||p.altKey||p.metaKey,ee=p.key.length===1;_&&(p.key==="Tab"&&p.preventDefault(),!k&&ee&&Dt(p.key));const te=$.current;if(p.target!==te||!gn.includes(p.key))return;p.preventDefault();const T=xe().filter(M=>!M.disabled).map(M=>M.ref.current);Se.includes(p.key)&&T.reverse(),Gn(T)}),onBlur:x(e.onBlur,p=>{p.currentTarget.contains(p.target)||(window.clearTimeout(B.current),U.current="")}),onPointerMove:x(e.onPointerMove,L(p=>{const I=p.target,_=Z.current!==p.clientX;if(p.currentTarget.contains(I)&&_){const k=p.clientX>Z.current?"right":"left";ve.current=k,Z.current=p.clientX}}))})})})})})})});Te.displayName=C;var Dn="MenuGroup",pe=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e;return t.jsx(P.div,{role:"group",...r,ref:o})});pe.displayName=Dn;var Pn="MenuLabel",Ae=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e;return t.jsx(P.div,{...r,ref:o})});Ae.displayName=Pn;var V="MenuItem",Ce="menu.itemSelect",q=s.forwardRef((e,o)=>{const{disabled:n=!1,onSelect:r,...a}=e,c=s.useRef(null),i=K(V,e.__scopeMenu),d=de(V,e.__scopeMenu),f=F(o,c),m=s.useRef(!1),l=()=>{const u=c.current;if(!n&&u){const h=new CustomEvent(Ce,{bubbles:!0,cancelable:!0});u.addEventListener(Ce,y=>r?.(y),{once:!0}),At(u,h),h.defaultPrevented?m.current=!1:i.onClose()}};return t.jsx(Oe,{...a,ref:f,disabled:n,onClick:x(e.onClick,l),onPointerDown:u=>{e.onPointerDown?.(u),m.current=!0},onPointerUp:x(e.onPointerUp,u=>{m.current||u.currentTarget?.click()}),onKeyDown:x(e.onKeyDown,u=>{const h=d.searchRef.current!=="";n||h&&u.key===" "||se.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});q.displayName=V;var Oe=s.forwardRef((e,o)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...c}=e,i=de(V,n),d=De(n),f=s.useRef(null),m=F(o,f),[l,u]=s.useState(!1),[h,y]=s.useState("");return s.useEffect(()=>{const g=f.current;g&&y((g.textContent??"").trim())},[c.children]),t.jsx(O.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:t.jsx(tn,{asChild:!0,...d,focusable:!r,children:t.jsx(P.div,{role:"menuitem","data-highlighted":l?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:m,onPointerMove:x(e.onPointerMove,L(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:x(e.onPointerLeave,L(g=>i.onItemLeave(g))),onFocus:x(e.onFocus,()=>u(!0)),onBlur:x(e.onBlur,()=>u(!1))})})})}),En="MenuCheckboxItem",Le=s.forwardRef((e,o)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return t.jsx(Be,{scope:e.__scopeMenu,checked:n,children:t.jsx(q,{role:"menuitemcheckbox","aria-checked":Y(n)?"mixed":n,...a,ref:o,"data-state":me(n),onSelect:x(a.onSelect,()=>r?.(Y(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Le.displayName=En;var Fe="MenuRadioGroup",[kn,Tn]=b(Fe,{value:void 0,onValueChange:()=>{}}),Ge=s.forwardRef((e,o)=>{const{value:n,onValueChange:r,...a}=e,c=Ne(r);return t.jsx(kn,{scope:e.__scopeMenu,value:n,onValueChange:c,children:t.jsx(pe,{...a,ref:o})})});Ge.displayName=Fe;var Ke="MenuRadioItem",$e=s.forwardRef((e,o)=>{const{value:n,...r}=e,a=Tn(Ke,e.__scopeMenu),c=n===a.value;return t.jsx(Be,{scope:e.__scopeMenu,checked:c,children:t.jsx(q,{role:"menuitemradio","aria-checked":c,...r,ref:o,"data-state":me(c),onSelect:x(r.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});$e.displayName=Ke;var fe="MenuItemIndicator",[Be,An]=b(fe,{checked:!1}),Ue=s.forwardRef((e,o)=>{const{__scopeMenu:n,forceMount:r,...a}=e,c=An(fe,n);return t.jsx(X,{present:r||Y(c.checked)||c.checked===!0,children:t.jsx(P.span,{...a,ref:o,"data-state":me(c.checked)})})});Ue.displayName=fe;var On="MenuSeparator",ze=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e;return t.jsx(P.div,{role:"separator","aria-orientation":"horizontal",...r,ref:o})});ze.displayName=On;var Ln="MenuArrow",Ve=s.forwardRef((e,o)=>{const{__scopeMenu:n,...r}=e,a=W(n);return t.jsx(Gt,{...a,...r,ref:o})});Ve.displayName=Ln;var Fn="MenuSub",[zo,Ye]=b(Fn),A="MenuSubTrigger",He=s.forwardRef((e,o)=>{const n=N(A,e.__scopeMenu),r=K(A,e.__scopeMenu),a=Ye(A,e.__scopeMenu),c=de(A,e.__scopeMenu),i=s.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=c,m={__scopeMenu:e.__scopeMenu},l=s.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return s.useEffect(()=>l,[l]),s.useEffect(()=>{const u=d.current;return()=>{window.clearTimeout(u),f(null)}},[d,f]),t.jsx(ie,{asChild:!0,...m,children:t.jsx(Oe,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":qe(n.open),...e,ref:je(o,a.onTriggerChange),onClick:u=>{e.onClick?.(u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:x(e.onPointerMove,L(u=>{c.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(c.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),l()},100))})),onPointerLeave:x(e.onPointerLeave,L(u=>{l();const h=n.content?.getBoundingClientRect();if(h){const y=n.content?.dataset.side,g=y==="right",j=g?-5:5,E=h[g?"left":"right"],R=h[g?"right":"left"];c.onPointerGraceIntentChange({area:[{x:u.clientX+j,y:u.clientY},{x:E,y:h.top},{x:R,y:h.top},{x:R,y:h.bottom},{x:E,y:h.bottom}],side:y}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(u),u.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:x(e.onKeyDown,u=>{const h=c.searchRef.current!=="";e.disabled||h&&u.key===" "||vn[r.dir].includes(u.key)&&(n.onOpenChange(!0),n.content?.focus(),u.preventDefault())})})})});He.displayName=A;var Xe="MenuSubContent",We=s.forwardRef((e,o)=>{const n=Ee(C,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,c=N(C,e.__scopeMenu),i=K(C,e.__scopeMenu),d=Ye(Xe,e.__scopeMenu),f=s.useRef(null),m=F(o,f);return t.jsx(O.Provider,{scope:e.__scopeMenu,children:t.jsx(X,{present:r||c.open,children:t.jsx(O.Slot,{scope:e.__scopeMenu,children:t.jsx(le,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:m,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:l=>{i.isUsingKeyboardRef.current&&f.current?.focus(),l.preventDefault()},onCloseAutoFocus:l=>l.preventDefault(),onFocusOutside:x(e.onFocusOutside,l=>{l.target!==d.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:x(e.onEscapeKeyDown,l=>{i.onClose(),l.preventDefault()}),onKeyDown:x(e.onKeyDown,l=>{const u=l.currentTarget.contains(l.target),h=wn[i.dir].includes(l.key);u&&h&&(c.onOpenChange(!1),d.trigger?.focus(),l.preventDefault())})})})})})});We.displayName=Xe;function qe(e){return e?"open":"closed"}function Y(e){return e==="indeterminate"}function me(e){return Y(e)?"indeterminate":e?"checked":"unchecked"}function Gn(e){const o=document.activeElement;for(const n of e)if(n===o||(n.focus(),document.activeElement!==o))return}function Kn(e,o){return e.map((n,r)=>e[(o+r)%e.length])}function $n(e,o,n){const a=o.length>1&&Array.from(o).every(m=>m===o[0])?o[0]:o,c=n?e.indexOf(n):-1;let i=Kn(e,Math.max(c,0));a.length===1&&(i=i.filter(m=>m!==n));const f=i.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return f!==n?f:void 0}function Bn(e,o){const{x:n,y:r}=e;let a=!1;for(let c=0,i=o.length-1;c<o.length;i=c++){const d=o[c],f=o[i],m=d.x,l=d.y,u=f.x,h=f.y;l>r!=h>r&&n<(u-m)*(r-l)/(h-l)+m&&(a=!a)}return a}function Un(e,o){if(!o)return!1;const n={x:e.clientX,y:e.clientY};return Bn(n,o)}function L(e){return o=>o.pointerType==="mouse"?e(o):void 0}var zn=Pe,Vn=ie,Yn=ke,Hn=Te,Xn=pe,Wn=Ae,qn=q,Qn=Le,Jn=Ge,Zn=$e,eo=Ue,to=ze,no=Ve,oo=He,ro=We,Q="DropdownMenu",[ao,Vo]=_e(Q,[Ie]),w=Ie(),[so,Qe]=ao(Q),Je=e=>{const{__scopeDropdownMenu:o,children:n,dir:r,open:a,defaultOpen:c,onOpenChange:i,modal:d=!0}=e,f=w(o),m=s.useRef(null),[l,u]=Kt({prop:a,defaultProp:c??!1,onChange:i,caller:Q});return t.jsx(so,{scope:o,triggerId:ye(),triggerRef:m,contentId:ye(),open:l,onOpenChange:u,onOpenToggle:s.useCallback(()=>u(h=>!h),[u]),modal:d,children:t.jsx(zn,{...f,open:l,onOpenChange:u,dir:r,modal:d,children:n})})};Je.displayName=Q;var Ze="DropdownMenuTrigger",et=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,c=Qe(Ze,n),i=w(n);return t.jsx(Vn,{asChild:!0,...i,children:t.jsx(P.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:je(o,c.triggerRef),onPointerDown:x(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(c.onOpenToggle(),c.open||d.preventDefault())}),onKeyDown:x(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&c.onOpenToggle(),d.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});et.displayName=Ze;var co="DropdownMenuPortal",tt=e=>{const{__scopeDropdownMenu:o,...n}=e,r=w(o);return t.jsx(Yn,{...r,...n})};tt.displayName=co;var nt="DropdownMenuContent",ot=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qe(nt,n),c=w(n),i=s.useRef(!1);return t.jsx(Hn,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...r,ref:o,onCloseAutoFocus:x(e.onCloseAutoFocus,d=>{i.current||a.triggerRef.current?.focus(),i.current=!1,d.preventDefault()}),onInteractOutside:x(e.onInteractOutside,d=>{const f=d.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,l=f.button===2||m;(!a.modal||l)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ot.displayName=nt;var io="DropdownMenuGroup",uo=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=w(n);return t.jsx(Xn,{...a,...r,ref:o})});uo.displayName=io;var lo="DropdownMenuLabel",rt=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=w(n);return t.jsx(Wn,{...a,...r,ref:o})});rt.displayName=lo;var po="DropdownMenuItem",at=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=w(n);return t.jsx(qn,{...a,...r,ref:o})});at.displayName=po;var fo="DropdownMenuCheckboxItem",st=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=w(n);return t.jsx(Qn,{...a,...r,ref:o})});st.displayName=fo;var mo="DropdownMenuRadioGroup",ho=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=w(n);return t.jsx(Jn,{...a,...r,ref:o})});ho.displayName=mo;var xo="DropdownMenuRadioItem",ct=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=w(n);return t.jsx(Zn,{...a,...r,ref:o})});ct.displayName=xo;var go="DropdownMenuItemIndicator",it=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=w(n);return t.jsx(eo,{...a,...r,ref:o})});it.displayName=go;var vo="DropdownMenuSeparator",ut=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=w(n);return t.jsx(to,{...a,...r,ref:o})});ut.displayName=vo;var wo="DropdownMenuArrow",Mo=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=w(n);return t.jsx(no,{...a,...r,ref:o})});Mo.displayName=wo;var yo="DropdownMenuSubTrigger",dt=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=w(n);return t.jsx(oo,{...a,...r,ref:o})});dt.displayName=yo;var Co="DropdownMenuSubContent",lt=s.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...r}=e,a=w(n);return t.jsx(ro,{...a,...r,ref:o,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lt.displayName=Co;var _o=Je,bo=et,No=tt,pt=ot,ft=rt,mt=at,ht=st,xt=ct,gt=it,vt=ut,wt=dt,Mt=lt;const yt=_o,Ct=bo,jo=s.forwardRef(({className:e,inset:o,children:n,...r},a)=>t.jsxs(wt,{ref:a,className:v("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",o&&"pl-8",e),...r,children:[n,t.jsx(on,{className:"ml-auto"})]}));jo.displayName=wt.displayName;const Ro=s.forwardRef(({className:e,...o},n)=>t.jsx(Mt,{ref:n,className:v("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...o}));Ro.displayName=Mt.displayName;const he=s.forwardRef(({className:e,sideOffset:o=4,...n},r)=>t.jsx(No,{children:t.jsx(pt,{ref:r,sideOffset:o,className:v("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));he.displayName=pt.displayName;const D=s.forwardRef(({className:e,inset:o,...n},r)=>t.jsx(mt,{ref:r,className:v("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",o&&"pl-8",e),...n}));D.displayName=mt.displayName;const So=s.forwardRef(({className:e,children:o,checked:n,...r},a)=>t.jsxs(ht,{ref:a,className:v("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(gt,{children:t.jsx(en,{className:"h-4 w-4"})})}),o]}));So.displayName=ht.displayName;const Io=s.forwardRef(({className:e,children:o,...n},r)=>t.jsxs(xt,{ref:r,className:v("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(gt,{children:t.jsx(rn,{className:"h-2 w-2 fill-current"})})}),o]}));Io.displayName=xt.displayName;const Do=s.forwardRef(({className:e,inset:o,...n},r)=>t.jsx(ft,{ref:r,className:v("px-2 py-1.5 text-sm font-semibold",o&&"pl-8",e),...n}));Do.displayName=ft.displayName;const ce=s.forwardRef(({className:e,...o},n)=>t.jsx(vt,{ref:n,className:v("-mx-1 my-1 h-px bg-muted",e),...o}));ce.displayName=vt.displayName;function Po({className:e,variant:o="dropdown",size:n="default"}){const{theme:r,resolvedTheme:a,setTheme:c}=$t(),i=n==="sm"?"h-4 w-4":n==="lg"?"h-6 w-6":"h-5 w-5";if(o==="button"){const d=()=>{const l=["light","dark","system"],h=(l.indexOf(r)+1)%l.length;c(l[h])},f=()=>r==="system"?t.jsx(oe,{className:v(i,"transition-transform duration-300")}):a==="dark"?t.jsx(re,{className:v(i,"transition-transform duration-300")}):t.jsx(ae,{className:v(i,"transition-transform duration-300")}),m=()=>({light:"Switch to dark mode",dark:"Switch to system mode",system:"Switch to light mode"})[r];return t.jsxs(z,{variant:"ghost",size:n,onClick:d,className:v("transition-colors hover:bg-accent hover:text-accent-foreground",e),title:m(),children:[f(),t.jsx("span",{className:"sr-only",children:m()})]})}return t.jsxs(yt,{children:[t.jsx(Ct,{asChild:!0,children:t.jsxs(z,{variant:"ghost",size:n,className:v("transition-colors hover:bg-accent hover:text-accent-foreground",e),children:[r==="system"?t.jsx(oe,{className:v(i,"transition-transform duration-300")}):a==="dark"?t.jsx(re,{className:v(i,"transition-transform duration-300")}):t.jsx(ae,{className:v(i,"transition-transform duration-300")}),t.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),t.jsxs(he,{align:"end",className:"min-w-[140px]",children:[t.jsxs(D,{onClick:()=>c("light"),className:v("flex items-center gap-2 cursor-pointer",r==="light"&&"bg-accent"),children:[t.jsx(ae,{className:"h-4 w-4"}),t.jsx("span",{children:"Light"}),r==="light"&&t.jsx("div",{className:"ml-auto h-2 w-2 rounded-full bg-primary"})]}),t.jsxs(D,{onClick:()=>c("dark"),className:v("flex items-center gap-2 cursor-pointer",r==="dark"&&"bg-accent"),children:[t.jsx(re,{className:"h-4 w-4"}),t.jsx("span",{children:"Dark"}),r==="dark"&&t.jsx("div",{className:"ml-auto h-2 w-2 rounded-full bg-primary"})]}),t.jsxs(D,{onClick:()=>c("system"),className:v("flex items-center gap-2 cursor-pointer",r==="system"&&"bg-accent"),children:[t.jsx(oe,{className:"h-4 w-4"}),t.jsx("span",{children:"System"}),r==="system"&&t.jsx("div",{className:"ml-auto h-2 w-2 rounded-full bg-primary"})]})]})]})}function Yo(){const[,e]=Bt(),o=Ut(),{toast:n}=zt(),{status:r}=hn(3e4),{data:a}=an({queryKey:["/api/auth/me"],queryFn:Vt({on401:"returnNull"}),retry:!1}),c=sn({mutationFn:async()=>{const f=await fetch("/api/auth/logout",{method:"POST",credentials:"include"});if(!f.ok)throw new Error("Failed to logout");return f.json()},onSuccess:()=>{o.clear(),n({title:"Logged out",description:"You have been successfully logged out."}),e("/")},onError:f=>{n({title:"Logout failed",description:f.message,variant:"destructive"})}}),i=()=>{c.mutate()},d=a?.user?"/dashboard":"/";return t.jsx("nav",{className:"bg-background border-b sticky top-0 z-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsx(ne,{href:d,children:t.jsx("div",{className:"flex items-center space-x-4 cursor-pointer","data-testid":"link-home",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 wine-gradient rounded-lg flex items-center justify-center mr-3",children:t.jsx(cn,{className:"text-champagne-400 h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold wine-text","data-testid":"text-logo-title",children:"TriviaSpark"}),t.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-logo-tagline",children:"A WebSpark Solution"})]})]})})}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{className:`text-xs px-2 py-1 rounded-full border inline-flex items-center gap-1 ${r.ok?"text-green-700 border-green-300 bg-green-50":r.time==="Static Build"?"text-blue-700 border-blue-300 bg-blue-50":"text-red-700 border-red-300 bg-red-50"}`,title:r.ok?`API healthy â€¢ ${r.time??"now"}`:r.time==="Static Build"?"Static preview version":"API unreachable","data-testid":"badge-health","aria-live":"polite",children:[t.jsx("span",{className:`h-2 w-2 rounded-full ${r.ok?"bg-green-500":r.time==="Static Build"?"bg-blue-500":"bg-red-500"}`}),r.ok?"Online":r.time==="Static Build"?"Preview":"Offline"]}),t.jsx(Po,{}),t.jsx(z,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-notifications",children:t.jsx(ln,{className:"h-5 w-5"})}),a?.user?t.jsxs(yt,{children:[t.jsx(Ct,{asChild:!0,children:t.jsx(Yt,{className:"w-8 h-8 cursor-pointer hover:ring-2 hover:ring-wine-300 transition-all","data-testid":"avatar-user",children:t.jsx(Ht,{className:"wine-gradient text-white text-sm font-medium",children:a.user.fullName?a.user.fullName.split(" ").map(f=>f[0]).join("").slice(0,2).toUpperCase():a.user.username.slice(0,2).toUpperCase()})})}),t.jsxs(he,{align:"end",className:"w-56",children:[t.jsxs("div",{className:"flex flex-col space-y-1 p-2",children:[t.jsx("p",{className:"text-sm font-medium",children:a.user.fullName||a.user.username}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.user.email})]}),t.jsx(ce,{}),t.jsx(D,{asChild:!0,children:t.jsxs(ne,{href:"/profile",className:"flex items-center cursor-pointer",children:[t.jsx(Xt,{className:"mr-2 h-4 w-4"}),"View Profile"]})}),t.jsx(ce,{}),t.jsxs(D,{onClick:i,disabled:c.isPending,className:"text-red-600 focus:text-red-600 cursor-pointer",children:[t.jsx(un,{className:"mr-2 h-4 w-4"}),c.isPending?"Logging out...":"Logout"]})]})]}):t.jsx(ne,{href:"/login",children:t.jsx(z,{variant:"outline",size:"sm",className:"",children:"Login"})})]})]})})})}export{Yo as default};
