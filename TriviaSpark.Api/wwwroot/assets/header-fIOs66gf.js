import{c as h,r as i,j as e,L as o,O as m}from"./index-CORj5ckH.js";import{B as u}from"./button-UW33nt9n.js";import{A as f,a as p}from"./avatar-D4ZY9oZ0.js";import{u as g}from"./useQuery-BTSkUB1-.js";import{B as j}from"./brain-Dw7o39P5.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],b=h("bell",v);function w(t=3e4){const[r,a]=i.useState({ok:!1}),[c,d]=i.useState(!0);async function n(){try{const s=await fetch("/api/health",{credentials:"include"}),l=s.ok,x=l?await s.json():null;a({ok:l,time:x?.time})}catch{a({ok:!1})}finally{d(!1)}}return i.useEffect(()=>{n();const s=setInterval(n,t);return()=>clearInterval(s)},[t]),{status:r,loading:c,refresh:n}}function B(){const{status:t}=w(3e4),{data:r}=g({queryKey:["/api/auth/me"],queryFn:m({on401:"returnNull"}),retry:!1}),a=r?.user?"/dashboard":"/";return e.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(o,{href:a,children:e.jsx("div",{className:"flex items-center space-x-4 cursor-pointer","data-testid":"link-home",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 wine-gradient rounded-lg flex items-center justify-center mr-3",children:e.jsx(j,{className:"text-champagne-400 h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold wine-text","data-testid":"text-logo-title",children:"TriviaSpark"}),e.jsx("p",{className:"text-xs text-gray-500","data-testid":"text-logo-tagline",children:"A WebSpark Solution"})]})]})})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full border inline-flex items-center gap-1 ${t.ok?"text-green-700 border-green-300 bg-green-50":"text-red-700 border-red-300 bg-red-50"}`,title:t.ok?`API healthy â€¢ ${t.time??"now"}`:"API unreachable","data-testid":"badge-health","aria-live":"polite",children:[e.jsx("span",{className:`h-2 w-2 rounded-full ${t.ok?"bg-green-500":"bg-red-500"}`}),t.ok?"Online":"Offline"]}),e.jsx(u,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-wine-700 transition-colors","data-testid":"button-notifications",children:e.jsx(b,{className:"h-5 w-5"})}),e.jsx(o,{href:"/profile",children:e.jsx(f,{className:"w-8 h-8 cursor-pointer hover:ring-2 hover:ring-wine-300 transition-all","data-testid":"avatar-user",children:e.jsx(p,{className:"wine-gradient text-white text-sm font-medium",children:"MH"})})})]})]})})})}export{B as default};
